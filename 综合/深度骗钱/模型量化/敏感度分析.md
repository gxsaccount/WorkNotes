# 敏感度分析（Sensitivity Analysis）​​#   
在模型量化中是一种评估不同层或算子对量化误差的敏感程度的方法，目的是确定哪些部分可以安全量化而不会显著降低模型性能。   
其核心思想是通过量化前后的表现差异（如精度损失、输出分布变化等）来识别模型的“脆弱点”，从而指导量化策略的制定。  


​# ​敏感度分析的核心步骤​​ # 

## ​​逐层/逐算子量化测试​​ ## 
1. 对模型中的每一层或关键算子​​单独量化​​（其他部分保持全精度），观察模型整体性能（如分类准确率、mAP等）的变化。  
​​示例​​：仅量化某一卷积层，其余层保持FP32，记录精度下降幅度。
​​误差指标量化  ​​
通过以下指标衡量敏感度：  
​​输出差异​​：量化前后张量的余弦相似度、MSE（均方误差）。  
​​任务性能​​：准确率、召回率等任务指标的相对下降比例。  
​​梯度分析​​：在训练感知量化中，观察梯度幅度的变化。  
​​敏感度排序与阈值设定​​  
根据误差指标对层/算子排序，设定可容忍的精度损失阈值（如某层量化后准确率下降不超过1%）。  
​​高敏感层​​：量化导致性能显著下降，需保留高精度（如FP16或FP32）。  
​​低敏感层​​：量化影响小，可安全量化（如INT8）。  


2. ​​迭代优化​​
结合硬件约束（如延迟、功耗）调整量化策略，可能对部分敏感层采用混合精度或动态量化。  
​​敏感度分析的常用方法​​  
​​基于统计的方法​​  
​​权重/激活分布分析​​：统计每层权重或激活值的动态范围、稀疏性。  
例：某层权重分布集中在[-0.1, 0.1]，而另一层分布在[-10, 10]，后者对量化更敏感。  

​​KL散度（Kullback-Leibler Divergence）​​：比较量化前后激活分布的差异。  
​​基于任务性能的方法​​  
​​逐层消融实验​​：在验证集上测试每层量化后的模型表现。  
​​敏感度热力图​​：可视化各层对量化误差的贡献  
