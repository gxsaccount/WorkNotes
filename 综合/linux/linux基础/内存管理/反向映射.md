# 反向映射#   
https://zhuanlan.zhihu.com/p/363319174
## 定义 ##  
通过物理页来找到共享这个页的所有的vma对应的页表项  
## 作用 ##  
在Linux内存管理器中，页表保持对进程使用的内存物理页的追踪，它们将虚拟页映射到物理页。  
有些页可能不是长时间使用，它们应该被交换出去。  
但是在交换出去之前（**页交换**），我们首先要做的就是要更新使用该交换页的每1个进程的页表项。  
为了更新进程页表项，以往为了确定某个要回收的物理页面都被哪些页表项引用，必须要**遍历所有进程**，这是1项非常耗资源和时间的工程。  
所以引入反向映射(RMAP)机制，使得更加有效地回收1个共享页面，反向映射技术的实现主要是基于页表项链表。  
## 反向映射的发展 ##

。。。


mapping段在struct page中用于描述这个页的来路；对于缓存页面，mapping指向struct address_space来指示这个页面的归属，匿名页面使用mapping来反向映射到struct anon_vma。对于kernel自己用的页面，mapping段可以被slab分配器使用。就像struct page中其他的数据段一样，mapping是一个复杂的区域，可以根据页面在当前的用途提供不同的含义。
## 实现原理 ##  

